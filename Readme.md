 # Система управления блогом

Этот проект представляет собой веб-приложение для управления блогом. Оно позволяет пользователям загружать записи и комментарии к ним из внешнего API, а также выполнять поиск записей по тексту комментария.
## Функции

- Загрузка записей и комментариев из внешнего API.
- Сохранение загруженных данных в базу данных.
- Поиск записей по тексту комментария (минимум 3 символа).
- Отображение результатов поиска с заголовком записи и комментарием, содержащим искомую строку.

## Используемые технологии

- **Веб-сервер**: Nginx
- **Backend**: PHP (версия 7.4)
- **База данных**: MySQL
- **Фронтенд**: HTML, JavaScript
- **Контейнеризация**: Docker, Docker Compose

## Установка и настройка

### Предварительные условия

- Docker и Docker Compose должны быть установлены на вашем компьютере.

### Шаги

1. **Клонирование репозитория**:
    ```sh
    git clone <repository_url>
    cd <repository_directory>
    ```

2. **Сборка и запуск Docker-контейнеров**:
    ```sh
    docker-compose up -d --build
    ```

3. **Инициализация базы данных**:
   Инициализация базы данных происходит при запуске контейнеров, если возникли ошибки, моежете воспользоваться одним из двух методов:
   1.  
   ```sh
    docker-compose exec db sh -c 'exec mysql -u"\$MYSQL_USER" -p"\$MYSQL_PASSWORD" "\$MYSQL_DATABASE" < /var/www/html/init.sql'
    ```
    Вам будет предложено ввести пароль для пользователя MySQL. Пароль по умолчанию: `password`.
    2.
    Или выполните подключение к db вручную через PhpStrom и выполнить скрипт.

4. **Заполнение базы данных примерами данных**:
    ```sh
    docker-compose exec php php /var/www/html/fill_data.php
    ```

## Использование

1. **Поиск записей по тексту комментария**:
    - Откройте браузер и перейдите по адресу `http://localhost`.
    - Введите текст для поиска (минимум 3 символа) и нажмите кнопку "Найти".
    - Результаты поиска будут отображены с заголовком записи и комментарием, содержащим искомую строку.

## Структура проекта

- `docker-compose.yml`: Файл конфигурации Docker Compose.
- `html/`: Директория, содержащая файлы веб-приложения.
  - `fill_data.php`: PHP-скрипт для заполнения базы данных.
  - `init.sql`: SQL-скрипт для инициализации базы данных.
  - `index.php`: PHP-скрипт для поиска записей по тексту комментария.
- `nginx/`: Директория, содержащая файл конфигурации Nginx.
  - `default.conf`: Файл конфигурации Nginx.